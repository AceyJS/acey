{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useAcey, connect } from 'react-acey';\nimport { Counter, Todolist, User } from '../src/models';\nvar STORE_TYPE = 'store';\n\nvar PCounter = /*#__PURE__*/function (_React$Component) {\n  _inherits(PCounter, _React$Component);\n\n  var _super = _createSuper(PCounter);\n\n  function PCounter() {\n    var _this;\n\n    _classCallCheck(this, PCounter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"render\", function () {\n      return __jsx(\"p\", null, \" connected class: \", User.counter().get(), \" \");\n    });\n\n    return _this;\n  }\n\n  return PCounter;\n}(React.Component);\n\nvar PrintCounter = connect([User])(PCounter);\n\nfunction Home(props) {\n  var todolists = [Todolist, User.todolist()];\n  var counters = [Counter, User.counter()];\n  useAcey([Counter, Todolist, User]);\n\n  var method = function method() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var then = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '' | 'store';\n    list.forEach(function (v) {\n      var ret = v[method]();\n      then && ret[then]();\n    });\n  };\n\n  var increment = function increment() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    method(counters, 'increment', then);\n    var list = [];\n    todolists.map(function (l) {\n      return l.map(function (t) {\n        return list.push(t.counter());\n      });\n    });\n    method(list, 'increment', then);\n  };\n\n  var decrement = function decrement() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    method(counters, 'decrement', then);\n    var list = [];\n    todolists.map(function (l) {\n      return l.map(function (t) {\n        return list.push(t.counter());\n      });\n    });\n    method(list, 'decrement', then);\n  };\n\n  var addTodo = function addTodo() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    return method(todolists, 'add', then);\n  };\n\n  var deleteFirst = function deleteFirst() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    return method(todolists, 'deleteFirst', then);\n  };\n\n  var deleteLast = function deleteLast() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    return method(todolists, 'deleteLast', then);\n  };\n\n  var toZZZLast = function toZZZLast() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'localStore';\n    return method(todolists, 'toZZZLast', then);\n  };\n\n  var clearLocalStore = function clearLocalStore() {\n    Todolist.localStore().remove();\n    Counter.localStore().remove();\n    User.localStore().remove();\n    location.reload();\n  };\n\n  return __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"h1\", null, props.id), __jsx(\"button\", {\n    onClick: clearLocalStore\n  }, \"clear local stores\"), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(PrintCounter, null), __jsx(\"br\", null), __jsx(\"button\", {\n    onClick: function onClick() {\n      return decrement(STORE_TYPE);\n    }\n  }, \"decrement\"), counters.map(function (v, index) {\n    return __jsx(\"span\", {\n      style: {\n        marginLeft: 10,\n        marginRight: 10\n      },\n      key: index\n    }, v.get());\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return increment(STORE_TYPE);\n    }\n  }, \"increment\"), __jsx(\"br\", null), __jsx(\"button\", {\n    onClick: function onClick() {\n      return addTodo(STORE_TYPE);\n    }\n  }, \"Add element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return deleteFirst(STORE_TYPE);\n    }\n  }, \"Del 1st element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return deleteLast(STORE_TYPE);\n    }\n  }, \"Del last element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return toZZZLast(STORE_TYPE);\n    }\n  }, \"ToZZ last\"), __jsx(\"div\", null, todolists.map(function (list, index) {\n    return __jsx(\"div\", {\n      key: index\n    }, __jsx(\"h1\", null, \"Todolist \", index), list.map(function (todo, index) {\n      return __jsx(\"div\", {\n        key: index\n      }, __jsx(\"span\", null, todo.content()), __jsx(\"span\", null, \" : \"), __jsx(\"span\", null, todo.ID()), __jsx(\"span\", null, \" = \"), __jsx(\"span\", {\n        style: {\n          color: 'red'\n        }\n      }, todo.counter().get()));\n    }));\n  })));\n}\n\nexport var __N_SSP = true;\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}