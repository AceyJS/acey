{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/louis/Acey/next-test/pages/index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useAcey } from 'acey';\nimport { Counter, Todolist, User } from '../src/models';\nvar STORE_TYPE = 'cookie';\n\nvar Home = function Home(props) {\n  var todolists = [Todolist, User.todolist()];\n  var counters = [Counter, User.counter()].concat(_toConsumableArray(todolists.map(function (v) {\n    return v.map(function (t) {\n      return t.counter();\n    });\n  })));\n  useAcey([Counter, Todolist, User]);\n\n  var method = function method() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var then = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '' | 'coookie' | 'localStore';\n    list.forEach(function (v) {\n      var ret = v[method]();\n      then && ret[then]();\n    });\n  };\n\n  var increment = function increment() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(counters, 'increment', then);\n  };\n\n  var decrement = function decrement() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(counters, 'decrement', then);\n  };\n\n  var addTodo = function addTodo() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(todolists, 'add', then);\n  };\n\n  var deleteFirst = function deleteFirst() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(todolists, 'deleteFirst', then);\n  };\n\n  var deleteLast = function deleteLast() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(todolists, 'deleteLast', then);\n  };\n\n  var toZZZLast = function toZZZLast() {\n    var then = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '' | 'coookie' | 'localStore';\n    return method(todolists, 'toZZZLast', then);\n  };\n\n  var clearAllCookie = function clearAllCookie() {\n    Todolist.removeCookies();\n    Counter.removeCookies();\n    User.removeCookies();\n    location.reload();\n  };\n\n  var clearLocalStore = function clearLocalStore() {\n    Todolist.removeLocalStore();\n    Counter.removeLocalStore();\n    User.removeLocalStore();\n    location.reload();\n  };\n\n  return __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, __jsx(\"button\", {\n    onClick: clearAllCookie,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"clear cookies\"), __jsx(\"button\", {\n    onClick: clearLocalStore,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"clear local stores\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return decrement(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"decrement\"), counters.map(function (v, index) {\n    return __jsx(\"span\", {\n      style: {\n        marginLeft: 10,\n        marginRight: 10\n      },\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 35\n      }\n    }, v.get());\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return increment(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"increment\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return addTodo(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Add element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return deleteFirst(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Del 1st element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return deleteLast(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Del last element\"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return toZZZLast(STORE_TYPE);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"ToZZ last\"), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, todolists.map(function (list, index) {\n    return __jsx(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    }, __jsx(\"h1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \"Todolist \", index), list.map(function (todo, index) {\n      return __jsx(\"div\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 24\n        }\n      }, __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 19\n        }\n      }, todo.content()), __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }\n      }, \" : \"), __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }\n      }, todo.ID()));\n    }));\n  })));\n};\n\nHome.getInitialProps = function (_ref) {\n  var query = _ref.query;\n  //Counter.increment()\n  return {\n    id: 10\n  };\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/louis/Acey/next-test/pages/index.js"],"names":["useAcey","Counter","Todolist","User","STORE_TYPE","Home","props","todolists","todolist","counters","counter","map","v","t","method","list","then","forEach","ret","increment","decrement","addTodo","deleteFirst","deleteLast","toZZZLast","clearAllCookie","removeCookies","location","reload","clearLocalStore","removeLocalStore","index","marginLeft","marginRight","get","todo","content","ID","getInitialProps","query","id"],"mappings":"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","sourcesContent":["import { useAcey } from 'acey'\nimport { Counter, Todolist, User } from '../src/models'\n\nconst STORE_TYPE = 'cookie'\n\nconst Home = (props) => {\n  \n  const todolists = [Todolist, User.todolist()]\n  const counters = [Counter, User.counter(), ...todolists.map((v) => v.map((t) => t.counter()))]\n  useAcey([\n    Counter,\n    Todolist,\n    User\n  ])\n\n  const method = (list = [], method = '', then = '' | 'coookie' | 'localStore') => {\n    list.forEach((v) => {\n      const ret = v[method]()\n      then && ret[then]()\n    })\n  }\n  \n  const increment = (then = '' | 'coookie' | 'localStore') => method(counters, 'increment', then)\n  const decrement = (then = '' | 'coookie' | 'localStore') => method(counters, 'decrement', then)\n  const addTodo = (then = '' | 'coookie' | 'localStore') => method(todolists, 'add', then)\n  const deleteFirst = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteFirst', then)\n  const deleteLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteLast', then)\n  const toZZZLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'toZZZLast', then)\n\n  const clearAllCookie = () => {\n    Todolist.removeCookies()\n    Counter.removeCookies()\n    User.removeCookies()\n    location.reload();\n  }\n\n  const clearLocalStore = () => {\n    Todolist.removeLocalStore()\n    Counter.removeLocalStore()\n    User.removeLocalStore()\n    location.reload();\n  }\n\n  return (\n    <div className=\"container\">\n      <button onClick={clearAllCookie}>clear cookies</button>\n      <button onClick={clearLocalStore}>clear local stores</button>\n      <br />\n      <br />\n\n      <button onClick={() => decrement(STORE_TYPE)}>decrement</button>\n      {counters.map((v, index) => <span style={{marginLeft: 10, marginRight: 10}} key={index}>{v.get()}</span>)}\n      <button onClick={() => increment(STORE_TYPE)}>increment</button>\n      <br />\n\n      <button onClick={() => addTodo(STORE_TYPE)}>Add element</button>\n      <button onClick={() => deleteFirst(STORE_TYPE)}>Del 1st element</button>\n      <button onClick={() => deleteLast(STORE_TYPE)}>Del last element</button>\n      <button onClick={() => toZZZLast(STORE_TYPE)}>ToZZ last</button>\n\n      <div>\n          {todolists.map((list, index) => {\n            return <div key={index}>\n              <h1>Todolist {index}</h1>\n              {list.map((todo, index) => {\n                return <div key={index}>\n                  <span>{todo.content()}</span>\n                  <span> : </span>\n                  <span>{todo.ID()}</span>\n                </div>\n              })}\n            </div>\n          })}\n      </div>\n\n    </div>\n  )\n}\n\nHome.getInitialProps = ({ query }) => {\n  //Counter.increment()\n  return {\n    id: 10\n  }\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}