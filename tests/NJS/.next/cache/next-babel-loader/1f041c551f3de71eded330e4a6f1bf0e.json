{"ast":null,"code":"var _jsxFileName = \"/Users/louis/Acey/tests/NJS/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useAcey, connect } from 'acey';\nimport { Counter, Todolist, User } from '../src/models';\nconst STORE_TYPE = 'store';\n\nclass PCounter extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"render\", () => {\n      return __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 12\n        }\n      }, \" connected class: \", User.counter().get(), \" \");\n    });\n  }\n\n}\n\nconst PrintCounter = connect([User])(PCounter);\n\nconst Home = props => {\n  const todolists = [Todolist, User.todolist()];\n  const counters = [Counter, User.counter()];\n  useAcey([Counter, Todolist, User]);\n\n  const method = (list = [], method = '', then = '' | 'coookie' | 'localStore') => {\n    list.forEach(v => {\n      const ret = v[method]();\n      then && ret[then]();\n    });\n  };\n\n  const increment = (then = '' | 'coookie' | 'localStore') => {\n    method(counters, 'increment', then);\n    const list = [];\n    todolists.map(l => l.map(t => list.push(t.counter())));\n    method(list, 'increment', then);\n  };\n\n  const decrement = (then = '' | 'coookie' | 'localStore') => {\n    method(counters, 'decrement', then);\n    const list = [];\n    todolists.map(l => l.map(t => list.push(t.counter())));\n    method(list, 'decrement', then);\n  };\n\n  const addTodo = (then = '' | 'coookie' | 'localStore') => method(todolists, 'add', then);\n\n  const deleteFirst = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteFirst', then);\n\n  const deleteLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteLast', then);\n\n  const toZZZLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'toZZZLast', then);\n\n  const clearAllCookie = () => {\n    Todolist.removeCookies();\n    Counter.removeCookies();\n    User.removeCookies();\n    location.reload();\n  };\n\n  const clearLocalStore = () => {\n    Todolist.removeLocalStore();\n    Counter.removeLocalStore();\n    User.removeLocalStore();\n    location.reload();\n  };\n\n  return __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, props.id), __jsx(\"button\", {\n    onClick: clearAllCookie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"clear cookies\"), __jsx(\"button\", {\n    onClick: clearLocalStore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"clear local stores\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), __jsx(PrintCounter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    onClick: () => decrement(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"decrement\"), counters.map((v, index) => __jsx(\"span\", {\n    style: {\n      marginLeft: 10,\n      marginRight: 10\n    },\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 35\n    }\n  }, v.get())), __jsx(\"button\", {\n    onClick: () => increment(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"increment\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), __jsx(\"button\", {\n    onClick: () => addTodo(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Add element\"), __jsx(\"button\", {\n    onClick: () => deleteFirst(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Del 1st element\"), __jsx(\"button\", {\n    onClick: () => deleteLast(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Del last element\"), __jsx(\"button\", {\n    onClick: () => toZZZLast(STORE_TYPE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, \"ToZZ last\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, todolists.map((list, index) => {\n    return __jsx(\"div\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, \"Todolist \", index), list.map((todo, index) => {\n      return __jsx(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 24\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, todo.content()), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }\n      }, \" : \"), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }\n      }, todo.ID()), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }\n      }, \" = \"), __jsx(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }\n      }, todo.counter().get()));\n    }));\n  })));\n};\n\nHome.getInitialProps = ({\n  query\n}) => {\n  Counter.increment();\n  return {\n    id: 10\n  };\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/louis/Acey/tests/NJS/pages/index.js"],"names":["useAcey","connect","Counter","Todolist","User","STORE_TYPE","PCounter","React","Component","counter","get","PrintCounter","Home","props","todolists","todolist","counters","method","list","then","forEach","v","ret","increment","map","l","t","push","decrement","addTodo","deleteFirst","deleteLast","toZZZLast","clearAllCookie","removeCookies","location","reload","clearLocalStore","removeLocalStore","id","index","marginLeft","marginRight","todo","content","ID","color","getInitialProps","query"],"mappings":"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","sourcesContent":["import { useAcey, connect } from 'acey'\nimport { Counter, Todolist, User } from '../src/models'\n\nconst STORE_TYPE = 'store'\n\nclass PCounter extends React.Component {\n\n  render = () => {\n    return <p> connected class: {User.counter().get()} </p>\n  }\n}\n\nconst PrintCounter = connect([User])(PCounter)\n\nconst Home = (props) => {\n  \n  const todolists = [Todolist, User.todolist()]\n  const counters = [Counter, User.counter()]\n\n  useAcey([\n    Counter,\n    Todolist,\n    User\n  ])\n\n  const method = (list = [], method = '', then = '' | 'coookie' | 'localStore') => {\n    list.forEach((v) => {\n      const ret = v[method]()\n      then && ret[then]()\n    })\n  }\n  \n  const increment = (then = '' | 'coookie' | 'localStore') => {\n    method(counters, 'increment', then)\n    const list = []\n    todolists.map((l) => l.map((t) => list.push(t.counter())))\n    method(list, 'increment', then)\n  }\n  const decrement = (then = '' | 'coookie' | 'localStore') => {\n    method(counters, 'decrement', then)\n    const list = []\n    todolists.map((l) => l.map((t) => list.push(t.counter())))\n    method(list, 'decrement', then)\n  }\n  const addTodo = (then = '' | 'coookie' | 'localStore') => method(todolists, 'add', then)\n  const deleteFirst = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteFirst', then)\n  const deleteLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'deleteLast', then)\n  const toZZZLast = (then = '' | 'coookie' | 'localStore') => method(todolists, 'toZZZLast', then)\n\n  const clearAllCookie = () => {\n    Todolist.removeCookies()\n    Counter.removeCookies()\n    User.removeCookies()\n    location.reload();\n  }\n\n  const clearLocalStore = () => {\n    Todolist.removeLocalStore()\n    Counter.removeLocalStore()\n    User.removeLocalStore()\n    location.reload();\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>{props.id}</h1>\n      <button onClick={clearAllCookie}>clear cookies</button>\n      <button onClick={clearLocalStore}>clear local stores</button>\n      <br />\n      <br />\n      <PrintCounter />\n      <br />\n\n      <button onClick={() => decrement(STORE_TYPE)}>decrement</button>\n      {counters.map((v, index) => <span style={{marginLeft: 10, marginRight: 10}} key={index}>{v.get()}</span>)}\n      <button onClick={() => increment(STORE_TYPE)}>increment</button>\n      <br />\n\n      <button onClick={() => addTodo(STORE_TYPE)}>Add element</button>\n      <button onClick={() => deleteFirst(STORE_TYPE)}>Del 1st element</button>\n      <button onClick={() => deleteLast(STORE_TYPE)}>Del last element</button>\n      <button onClick={() => toZZZLast(STORE_TYPE)}>ToZZ last</button>\n\n      <div>\n          {todolists.map((list, index) => {\n            return <div key={index}>\n              <h1>Todolist {index}</h1>\n              {list.map((todo, index) => {\n                return <div key={index}>\n                  <span>{todo.content()}</span>\n                  <span> : </span>\n                  <span>{todo.ID()}</span>\n                  <span> = </span>\n                  <span style={{color: 'red'}}>{todo.counter().get()}</span>\n                </div>\n              })}\n            </div>\n          })}\n      </div>\n\n    </div>\n  )\n}\n\nHome.getInitialProps = ({ query }) => {\n  Counter.increment()\n  return {\n    id: 10\n  }\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}